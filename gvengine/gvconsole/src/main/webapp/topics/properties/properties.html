<div class="container-fluid">
   <div class="side-body">
      <div class="container row" data-ng-controller = "PropertiesController as ctrl">
         <h1>File Properties</h1>
         <div class="panel panel-default">
            <div class="panel-heading clearfix">
               <i class="fa fa-list" aria-hidden="true"></i> Value Search
            </div>
            <form>
            <div class="panel-body">
               <label id="labelLeft" class="control-label optionForm col-sm-1">Key </label>
               <div class="col-sm-4"><input type="text" class="form-control" data-ng-model="key" placeholder="Key"></div>
               <label id="labelLeft" class="control-label optionForm col-sm-1 col-sm-offset-1">Value </label>
               <div class="col-sm-4"><input type="text" class="form-control" value="{{value}}" disabled></div>
            </div>
            <div class="panel-footer clearfix">
               <button type="reset" class="btn btn-danger pull-right"><i class="fa fa-refresh" aria-hidden="true"></i></button>
               <button type="submit" data-ng-click="matchKey();" class="btn btn-primary pull-right" style="margin-right:5px"><i class="fa fa-search" aria-hidden="true"></i> Match</button>
            </div>
          </form>
         </div>
         <div data-ng-repeat="alert in ctrl.alerts" class="fadeout alert alert-{{alert.type}}" role="alert">{{alert.msg}}</div>
         <div class="panel panel-default">
            <div id="panelHead" class="panel-heading clearfix">
               <i class="fa fa-list" aria-hidden="true"></i> Properties list
               <button class="btn btn-default pull-right" type="button" data-ng-click="addProperties()"><i class="fa fa-plus"></i></button>
            </div>
            <form name="propertiesForm" data-ng-submit="modifyProperties()">
            <table class="table table-hover" style="margin-bottom:0px">
               <thead>
                  <tr>
                     <th class="col-sm-5">
                        Key <i aria-hidden="true"></i>
                     </th>
                     <th class="col-sm-5">
                        Value
                     </th>
                     <th class="col-sm-2 text-right">
                        Action
                     </th>
                  </tr>
               </thead>
               <tbody>
                  <tr data-ng-repeat="property in properties">
                     <td class="col-sm-6">
                        <div data-ng-class="{'has-error' : !property.key}"><input ng-disabled="ctrl.check[property.key]" name="{{property.key}}" type="text" class="form-control" data-ng-model="property.key" name="key" required></div>
                     </td>
                     <td class="col-sm-6">
                        <div data-ng-class="{'has-error' : !property.value}"><input name="{{property.key}}.value" type="text" class="form-control" data-ng-model="property.value" name="value" required></div>
                     </td>
                     <td>
                       <button class="btn btn-danger pull-right" type="button" data-toggle="modal" data-target="#myModal{{$index}}" data-dismiss="modal" data-ng-class="{'buttondisable' : ctrl.check[property.key]}"><i class="fa fa-trash"></i></button>
                       <div id="myModal{{$index}}" class="modal">
                          <div class="modal-content">
                             <h4> Are you sure to delete {{config.id}} ? </h4>
                             <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-angle-double-left" aria-hidden="true"></i> Back</button>
                             <button type="button" class="btn btn-danger" data-dismiss="modal" data-ng-click="deleteProperty(property.key)"><i class="fa fa-trash" aria-hidden="true"></i> Confirm</button>
                          </div>
                       </div>
                     </td>
                  </tr>
               </tbody>
            </table>
            <div class="panel-footer">
              <div class="row">
                <button type="submit" data-ng-show="propertiesForm.$valid" class="btn btn-primary pull-right"><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</button>
                <button type="submit" data-ng-show="!propertiesForm.$valid"  class="btn btn-primary pull-right" data-toggle="tab" disabled><i class="fa fa-floppy-o" aria-hidden="true"></i> Save</button>
              </div>
         </div>
       </form>
      </div>
   </div>
</div>
