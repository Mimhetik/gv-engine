<html>
	<head>
		<meta charset="UTF-8">
			<title>Excel To HTML using codebeautify.org</title>
		</head>
		<body>
			<div class="container-fluid">
				<div class="side-body">
					<div class="container row" data-ng-controller="DeployConfigController as ctrl" data-ng-init="">
					<h1>Deploy action</h1>
						<div class="container col-sm-12">
							<div class="row">
								<div class="panel panel-default" style="overflow-x:auto;">
									<div class="panel-heading">
									   Deploy steps
									</div>
									<section>
										<div class="wizard">
											<div class="panel-body clearfix">
												<div class="wizard-inner">
													<ul class="nav nav-tabs col-sm-12" role="tablist">
														<div class="connecting-line"></div>
														<li role="presentation" class="col-sm-4" data-ng-class="{'active': step == 0, 'disable': step != 0 }">
															<a data-toggle="tab" aria-controls="step1" role="tab" title="Step 1" data-target="#step1" style="pointer-events: none;">
																<span class="round-tab">
																	<i class="glyphicon glyphicon-open-file"></i>
																</span>
															</a>
														</li>
														<li role="presentation" class="col-sm-4" data-ng-class="{'active': step == 01, 'disable': step != 01 }">
															<a data-toggle="tab" aria-controls="step2" role="tab" title="Step 2" data-target="#step2" style="pointer-events: none;">
																<span class="round-tab">
																	<i class="glyphicon glyphicon-tasks"></i>
																</span>
															</a>
														</li>
														<li role="presentation" class="col-sm-4" data-ng-class="{'active': step == 011, 'disable': step != 011 }">
															<a data-toggle="tab" aria-controls="complete" role="tab" data-target="#complete" style="pointer-events: none;">
																<span class="round-tab">
																	<i class="glyphicon glyphicon-ok"></i>
																</span>
															</a>
														</li>
													</ul>
												</div>
													<div class="tab-content">
														<div class="tab-pane active" role="tabpanel" id="step1">
															<h2 style="text-align:center;margin-bottom:40px"></h2>

																<div class="col-sm-6" style="margin-top:10px">
																	<h3>Current Configuration:<button class="btn btn-default pull-right" type="button" data-toggle="modal" data-target="#myModalCurrent" data-dismiss="modal"><i class="fa fa-file-code-o" aria-hidden="true"></i></h3>
																	<div id="myModalCurrent" class="modalXML">
													                   <div class="modal-contentXML">
													                   	 <h3>Current GVCore</h3>
													                     <pre class="preXML">{{currentGVCore}}</pre>
													                     <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-angle-double-left" aria-hidden="true"></i> Back</button>
													                   </div>
													                 </div>
												                  <div class="panel panel-default" style="margin-top:10px">
												                    <div data-ng-repeat="serviceCurrent in servicesCurrent | orderBy:'idService'">
												                    <div class="panel-heading Clickable serviceHead" data-toggle="collapse" data-target="#{{serviceCurrent.idService}}Current" style="border-radius: 0px" ng-click="OpenCurrentServiceList=!OpenCurrentServiceList">
												                        <h3 class="panel-title">{{serviceCurrent.idService}} <i aria-hidden="true" data-ng-class="(OpenCurrentServiceList) ? 'fa fa-chevron-up pull-right' : 'fa fa-chevron-down pull-right'"></i></h3> <!-- Group -->
												                    </div>
												                    <div  class="panel-body collapse" style="padding:0px; border-radius: 0px" id="{{serviceCurrent.idService}}Current">
												                      <table class="table table-hover col-sm-12" style="margin: 0px">
												                        <tbody>
												                           <tr data-ng-repeat="operationCurrent in serviceCurrent.operations | orderBy:'name'">
												                            <td>{{operationCurrent.name}} </td>
												                          </tr>
												                       </tbody>
												                      </table>
												                    </div>
												                  	</div>
												                  </div>
																</div>

																<div class="col-sm-6" style="margin-top:10px">
																<h3>New Configuration: <button class="btn btn-default pull-right" type="button" data-toggle="modal" data-target="#myModalNew" data-dismiss="modal"><i class="fa fa-file-code-o" aria-hidden="true"></i></h3>
																	<div id="myModalNew" class="modalXML">
													                   <div class="modal-contentXML">
													                   	<h3>New GVCore</h3>
													                     <pre class="preXML">{{newGVCore}}</pre>
													                     <button type="button" class="btn btn-default" data-dismiss="modal"><i class="fa fa-angle-double-left" aria-hidden="true"></i> Back</button>
													                   </div>
													                 </div>
												                  <div class="panel panel-default" style="margin-top:10px; border-radius:5px">
												                    <div data-ng-repeat="serviceNew in servicesNew | orderBy:'idService' ">
												                    <div class="panel-heading Clickable serviceHead" data-toggle="collapse" data-target="#{{serviceNew.idService}}New" style="border-radius: 0px" ng-click="OpenNewServiceList=!OpenNewServiceList">
												                        <h3 class="panel-title">{{serviceNew.idService}} <i data-ng-class="(OpenNewServiceList) ? 'fa fa-chevron-up pull-right' : 'fa fa-chevron-down pull-right'"></i></h3> <!-- Group -->
												                    </div>
												                    <div  class="panel-body collapse" style="padding:0px; border-radius: 0px" id="{{serviceNew.idService}}New">
												                      <table class="table table-hover col-sm-12" style="margin: 0px">
												                        <tbody>
												                          <tr data-ng-repeat="operationNew in serviceNew.operations | orderBy:'name'">
												                            <td>{{operationNew.name}}</td>
												                          </tr>
												                       </tbody>
												                      </table>
												                    </div>
												                  	</div>
												                  </div>
																</div>

																<div class="col-sm-12">
																	<a href="#/deploy" type="button" class="btn btn-danger pull-left">Cancel</a>
																<button type="button" id="stepValue" value="1" class="btn btn-primary pull-right" data-toggle="tab" data-target="#step2" data-ng-click="changeStep()">Next</button>
															</div>
														</div>

														<div class="tab-pane" role="tabpanel" id="step2">
														<form role="form" name="propertiesForm" data-ng-submit="propertiesForm.$valid" novalidate>
															<h2 style="text-align:center; margin:20px">Properties File</h2>
															<div style="text-align: center;" class="alert alert-warning" data-ng-show="!propertiesForm.$valid" role="alert">All properties must be completed for proced to deploy with this configuration!</div>


																<table class="table table-hover">
											            <thead>
											              <tr>
											                <th class="col-sm-6">Key</th>
											                <th class="col-sm-6">Value</th>
											              </tr>
											            </thead>
											            <tbody>
											              <tr data-ng-repeat="(key,value) in ctrl.properties">
											                <td class="col-sm-6">{{key}}</td>
											                <td class="col-sm-6"><div  class="form-group"  data-ng-class="{'has-error' : !ctrl.properties[key]}"><input name="{{key}}" type="text" class="form-control" data-ng-model="ctrl.properties[key]" name="value" required></div></td>
											              </tr>
											            </tbody>
											          </table>

															<div class="col-sm-6">
																<a href="#/deploy" type="button" class="btn btn-danger pull-left">Cancel</a>
															</div>
															<div class="col-sm-6">
																<button type="submit" data-ng-show="propertiesForm.$valid"  id="stepValue" value="1" class="btn btn-primary pull-right" data-toggle="tab" data-target="#complete"  data-ng-click="changeStep()">Next</button>
																<button type="submit" data-ng-show="!propertiesForm.$valid"  id="stepValue" value="1" class="btn btn-primary pull-right" data-toggle="tab" data-target="#complete"  data-ng-click="changeStep()" disabled>Next</button>
															</div>
															</form>
														</div>

														<div class="tab-pane" role="tabpanel" id="complete">
															<h3 style="text-align:center">Are you sure to change current configuration <span style="color:red">"{{currentConfigId}}"</span> <p>with configuration <span style="color:red">"{{newConfigId}}"</span>?</p></h3>
															<div class="col-sm-6"><a href="#/deploy" type="button" class="btn btn-danger pull-left">Cancel</a></div>
															<div class="col-sm-6"><a href="#/deploy" type="button" class="btn btn-success pull-right" data-ng-click="ctrl.deploy()">Proceed</a></div>
														</div>
													</div>
											</div>
										</div>
									</section>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</body>
	</html>
